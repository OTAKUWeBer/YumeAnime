<div class="mb-6 md:mb-8">
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
        <div class="flex items-center gap-3">
            <label class="text-gray-300 font-medium text-sm md:text-base">Server:</label>
            <div class="flex flex-wrap gap-2" id="serverSelector">
                {% if available_servers %}
                    {% for server in available_servers %}
                        <button
                            data-server="{{ server.serverName }}"
                            class="server-btn px-4 py-2 rounded-lg border-2 transition-all duration-300 text-sm md:text-base min-w-[70px] {% if server.serverName == selected_server %}bg-purple-500 border-purple-500 text-white{% else %}border-gray-600 text-gray-300 hover:border-purple-500 hover:bg-purple-500/10{% endif %}"
                            onclick="switchServer('{{ server.serverName }}')">
                            {{ server.serverName.upper() }}
                        </button>
                    {% endfor %}
                {% else %}
                    <button
                        data-server="hd-1"
                        class="server-btn px-4 py-2 rounded-lg border-2 bg-purple-500 border-purple-500 text-white transition-all duration-300 text-sm md:text-base min-w-[70px]"
                        onclick="switchServer('hd-1')">
                        HD-1
                    </button>
                {% endif %}
            </div>
        </div>

        {% if dub_available %}
        <div class="flex items-center gap-3">
            <label class="text-gray-300 font-medium text-sm md:text-base">Audio:</label>
            <div class="flex gap-2 language-toggle">
                {% if sub_url %}
                <a href="{{ sub_url }}"
                   class="language-btn px-4 py-2 rounded-lg border-2 transition-all duration-300 text-sm md:text-base min-w-[60px] text-center {% if lang == 'sub' %}bg-purple-500 border-purple-500 text-white active{% else %}border-gray-600 text-gray-300 hover:border-purple-500 hover:bg-purple-500/10{% endif %}">
                    SUB
                </a>
                {% endif %}
                {% if dub_url %}
                <a href="{{ dub_url }}"
                   class="language-btn px-4 py-2 rounded-lg border-2 transition-all duration-300 text-sm md:text-base min-w-[60px] text-center {% if lang == 'dub' %}bg-purple-500 border-purple-500 text-white active{% else %}border-gray-600 text-gray-300 hover:border-purple-500 hover:bg-purple-500/10{% endif %}">
                    DUB
                </a>
                {% endif %}
            </div>
        </div>
        {% endif %}
    </div>
</div>

<script>
function switchServer(serverName) {
    localStorage.setItem('yumePreferredServer', serverName);
    window.location.reload();
}
</script>
